(function(d,c){if(typeof exports==="object"){module.exports=c(d)}else{if(typeof define==="function"&&define.amd){define([],c(d))}else{d.LazyLoad=c(d)}}})(typeof global!=="undefined"?global:this.window||this.global,function(j){const g={src:"data-src",srcset:"data-srcset",selector:".lazyload"};const k=function(){let extended={};let deep=false;let i=0;let length=arguments.length;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){deep=arguments[0];i++}let merge=function(a){for(let prop in a){if(Object.prototype.hasOwnProperty.call(a,prop)){if(deep&&Object.prototype.toString.call(a[prop])==="[object Object]"){extended[prop]=k(true,extended[prop],a[prop])}else{extended[prop]=a[prop]}}}};for(;i<length;i++){let obj=arguments[i];merge(obj)}return extended};function f(b,a){this.settings=k(g,a||{});this.images=b||document.querySelectorAll(this.settings.selector);this.observer=null;this.init()}f.prototype={init:function(){if(!j.IntersectionObserver){this.loadImages();return}let self=this;let observerConfig={root:null,rootMargin:"0px",threshold:[0]};this.observer=new IntersectionObserver(function(a){a.forEach(function(b){if(b.intersectionRatio>0){self.observer.unobserve(b.target);let src=b.target.getAttribute(self.settings.src);let srcset=b.target.getAttribute(self.settings.srcset);if("img"===b.target.tagName.toLowerCase()){if(src){b.target.src=src}if(srcset){b.target.srcset=srcset}}else{b.target.style.backgroundImage="url("+src+")"}}})},observerConfig);this.images.forEach(function(a){self.observer.observe(a)})},loadAndDestroy:function(){if(!this.settings){return}this.loadImages();this.destroy()},loadImages:function(){if(!this.settings){return}let self=this;this.images.forEach(function(a){let src=a.getAttribute(self.settings.src);let srcset=a.getAttribute(self.settings.srcset);if("img"===a.tagName.toLowerCase()){if(src){a.src=src}if(srcset){a.srcset=srcset}}else{a.style.backgroundImage="url("+src+")"}})},destroy:function(){if(!this.settings){return}this.observer.disconnect();this.settings=null}};j.lazyload=function(b,a){return new f(b,a)};if(j.jQuery){const h=j.jQuery;h.fn.lazyload=function(a){a=a||{};a.attribute=a.attribute||"data-src";new f(h.makeArray(this),a);return this}}return f});