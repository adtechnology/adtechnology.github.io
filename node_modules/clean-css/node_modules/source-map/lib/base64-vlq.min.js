var base64=require("./base64");var VLQ_BASE_SHIFT=5;var VLQ_BASE=1<<VLQ_BASE_SHIFT;var VLQ_BASE_MASK=VLQ_BASE-1;var VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(a){return a<0?((-a)<<1)+1:(a<<1)+0}function fromVLQSigned(b){var a=(b&1)===1;var c=b>>1;return a?-c:c}exports.encode=function base64VLQ_encode(b){var c="";var d;var a=toVLQSigned(b);do{d=a&VLQ_BASE_MASK;a>>>=VLQ_BASE_SHIFT;if(a>0){d|=VLQ_CONTINUATION_BIT}c+=base64.encode(d)}while(a>0);return c};exports.decode=function base64VLQ_decode(c,e,f){var g=c.length;var b=0;var d=0;var a,h;do{if(e>=g){throw new Error("Expected more digits in base 64 VLQ value.")}h=base64.decode(c.charCodeAt(e++));if(h===-1){throw new Error("Invalid base64 digit: "+c.charAt(e-1))}a=!!(h&VLQ_CONTINUATION_BIT);h&=VLQ_BASE_MASK;b=b+(h<<d);d+=VLQ_BASE_SHIFT}while(a);f.value=fromVLQSigned(b);f.rest=e};