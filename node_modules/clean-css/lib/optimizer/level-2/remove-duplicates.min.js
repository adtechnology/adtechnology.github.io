var Token=require("../../tokenizer/token");var serializeBody=require("../../writer/one-time").body;var serializeRules=require("../../writer/one-time").rules;function removeDuplicates(k){var c={};var m=[];var b,e;var h,a;for(var g=0,d=k.length;g<d;g++){e=k[g];if(e[0]!=Token.RULE){continue}b=serializeRules(e[1]);if(c[b]&&c[b].length==1){m.push(b)}else{c[b]=c[b]||[]}c[b].push(g)}for(g=0,d=m.length;g<d;g++){b=m[g];a=[];for(var f=c[b].length-1;f>=0;f--){e=k[c[b][f]];h=serializeBody(e[2]);if(a.indexOf(h)>-1){e[2]=[]}else{a.push(h)}}}}module.exports=removeDuplicates;