var Token=require("../../tokenizer/token");var serializeRules=require("../../writer/one-time").rules;var serializeValue=require("../../writer/one-time").value;function extractProperties(f){var e=[];var b;var h;var c;var g;var d,a;if(f[0]==Token.RULE){b=!/[\.\+>~]/.test(serializeRules(f[1]));for(d=0,a=f[2].length;d<a;d++){h=f[2][d];if(h[0]!=Token.PROPERTY){continue}c=h[1][1];if(c.length===0){continue}if(c.indexOf("--")===0){continue}g=serializeValue(h,d);e.push([c,g,findNameRoot(c),f[2][d],c+":"+g,f[1],b])}}else{if(f[0]==Token.NESTED_BLOCK){for(d=0,a=f[2].length;d<a;d++){e=e.concat(extractProperties(f[2][d]))}}}return e}function findNameRoot(a){if(a=="list-style"){return a}if(a.indexOf("-radius")>0){return"border-radius"}if(a=="border-collapse"||a=="border-spacing"||a=="border-image"){return a}if(a.indexOf("border-")===0&&/^border\-\w+\-\w+$/.test(a)){return a.match(/border\-\w+/)[0]}if(a.indexOf("border-")===0&&/^border\-\w+$/.test(a)){return"border"}if(a.indexOf("text-")===0){return a}if(a=="-chrome-"){return a}return a.replace(/^\-\w+\-/,"").match(/([a-zA-Z]+)/)[0].toLowerCase()}module.exports=extractProperties;