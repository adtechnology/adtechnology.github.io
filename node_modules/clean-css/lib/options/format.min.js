var override=require("../utils/override");var Breaks={AfterAtRule:"afterAtRule",AfterBlockBegins:"afterBlockBegins",AfterBlockEnds:"afterBlockEnds",AfterComment:"afterComment",AfterProperty:"afterProperty",AfterRuleBegins:"afterRuleBegins",AfterRuleEnds:"afterRuleEnds",BeforeBlockEnds:"beforeBlockEnds",BetweenSelectors:"betweenSelectors"};var IndentWith={Space:" ",Tab:"\t"};var Spaces={AroundSelectorRelation:"aroundSelectorRelation",BeforeBlockBegins:"beforeBlockBegins",BeforeValue:"beforeValue"};var DEFAULTS={breaks:breaks(false),indentBy:0,indentWith:IndentWith.Space,spaces:spaces(false),wrapAt:false};var BEAUTIFY_ALIAS="beautify";var KEEP_BREAKS_ALIAS="keep-breaks";var OPTION_SEPARATOR=";";var OPTION_NAME_VALUE_SEPARATOR=":";var HASH_VALUES_OPTION_SEPARATOR=",";var HASH_VALUES_NAME_VALUE_SEPARATOR="=";var FALSE_KEYWORD_1="false";var FALSE_KEYWORD_2="off";var TRUE_KEYWORD_1="true";var TRUE_KEYWORD_2="on";function breaks(b){var a={};a[Breaks.AfterAtRule]=b;a[Breaks.AfterBlockBegins]=b;a[Breaks.AfterBlockEnds]=b;a[Breaks.AfterComment]=b;a[Breaks.AfterProperty]=b;a[Breaks.AfterRuleBegins]=b;a[Breaks.AfterRuleEnds]=b;a[Breaks.BeforeBlockEnds]=b;a[Breaks.BetweenSelectors]=b;return a}function spaces(b){var a={};a[Spaces.AroundSelectorRelation]=b;a[Spaces.BeforeBlockBegins]=b;a[Spaces.BeforeValue]=b;return a}function formatFrom(a){if(a===undefined||a===false){return false}if(typeof a=="object"&&"indentBy" in a){a=override(a,{indentBy:parseInt(a.indentBy)})}if(typeof a=="object"&&"indentWith" in a){a=override(a,{indentWith:mapIndentWith(a.indentWith)})}if(typeof a=="object"){return override(DEFAULTS,a)}if(typeof a=="object"){return override(DEFAULTS,a)}if(typeof a=="string"&&a==BEAUTIFY_ALIAS){return override(DEFAULTS,{breaks:breaks(true),indentBy:2,spaces:spaces(true)})}if(typeof a=="string"&&a==KEEP_BREAKS_ALIAS){return override(DEFAULTS,{breaks:{afterAtRule:true,afterBlockBegins:true,afterBlockEnds:true,afterComment:true,afterRuleEnds:true,beforeBlockEnds:true}})}if(typeof a=="string"){return override(DEFAULTS,toHash(a))}return DEFAULTS}function toHash(a){return a.split(OPTION_SEPARATOR).reduce(function(b,f){var e=f.split(OPTION_NAME_VALUE_SEPARATOR);var c=e[0];var d=e[1];if(c=="breaks"||c=="spaces"){b[c]=hashValuesToHash(d)}else{if(c=="indentBy"||c=="wrapAt"){b[c]=parseInt(d)}else{if(c=="indentWith"){b[c]=mapIndentWith(d)}}}return b},{})}function hashValuesToHash(a){return a.split(HASH_VALUES_OPTION_SEPARATOR).reduce(function(b,f){var e=f.split(HASH_VALUES_NAME_VALUE_SEPARATOR);var c=e[0];var d=e[1];b[c]=normalizeValue(d);return b},{})}function normalizeValue(a){switch(a){case FALSE_KEYWORD_1:case FALSE_KEYWORD_2:return false;case TRUE_KEYWORD_1:case TRUE_KEYWORD_2:return true;default:return a}}function mapIndentWith(a){switch(a){case"space":return IndentWith.Space;case"tab":return IndentWith.Tab;default:return a}}module.exports={Breaks:Breaks,Spaces:Spaces,formatFrom:formatFrom};