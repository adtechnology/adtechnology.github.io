"use strict";var path=require("path");var fs=require("fs");var inflight=require("inflight");var accessError=require("./access-error.js");var andIgnoreErrors=require("./and-ignore-errors.js");var isFsAccessAvailable=require("./is-fs-access-available.js");if(isFsAccessAvailable){module.exports=fsAccessImplementation}else{module.exports=fsOpenImplementation}module.exports.fsAccessImplementation=fsAccessImplementation;module.exports.fsOpenImplementation=fsOpenImplementation;function fsAccessImplementation(b,a){a=inflight("writable:"+b,a);if(!a){return}fs.access(b,fs.W_OK,a)}function fsOpenImplementation(b,a){a=inflight("writable:"+b,a);if(!a){return}var c=path.join(b,".npm.check.permissions");fs.open(c,"w",function(e,d){if(e){return a(accessError(b,e))}fs.close(d,function(){fs.unlink(c,andIgnoreErrors(a))})})};