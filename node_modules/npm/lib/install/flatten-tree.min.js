"use strict";var validate=require("aproba");var moduleName=require("../utils/module-name.js");module.exports=flattenTree;module.exports.flatName=flatName;module.exports.flatNameFromTree=flatNameFromTree;function flattenTree(i){validate("O",arguments);var a=new Set();var b={};var d=[[i,"/"]];while(d.length){var e=d.shift();var f=e[0];a.add(f);var h=e[1];b[h]=f;if(h!=="/"){h+="/"}for(var g=0;g<f.children.length;++g){var c=f.children[g];if(!a.has(c)){d.push([c,flatName(h,c)])}}}return b}function flatName(a,b){validate("SO",arguments);return a+(moduleName(b)||"TOP")}function flatNameFromTree(a){validate("O",arguments);if(a.isTop){return"/"}var b=flatNameFromTree(a.parent);if(b!=="/"){b+="/"}return flatName(b,a)};