module.exports=edit;edit.usage="npm edit <pkg>[@<version>]";edit.completion=require("./utils/completion/installed-shallow.js");var npm=require("./npm.js");var path=require("path");var fs=require("graceful-fs");var editor=require("editor");var noProgressTillDone=require("./utils/no-progress-while-running").tillDone;function edit(b,a){var g=b[0];if(b.length!==1||!g){return a(edit.usage)}var d=npm.config.get("editor");if(!d){return a(new Error("No editor set.  Set the 'editor' config, or $EDITOR environ."))}g=g.split("/").join("/node_modules/").replace(/(\/node_modules)+/,"/node_modules");var c=path.resolve(npm.dir,g);fs.lstat(c,function(e){if(e){return a(e)}editor(c,{editor:d},noProgressTillDone(function(f){if(f){return a(f)}npm.commands.rebuild(b,a)}))})};