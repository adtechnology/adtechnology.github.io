var assert=require("assert");var toNerfDart=require("./nerf-dart.js");module.exports=setCredentialsByURI;function setCredentialsByURI(b,e){assert(b&&typeof b==="string","registry URL is required");assert(e&&typeof e==="object","credentials are required");var a=toNerfDart(b);if(e.token){this.set(a+":_authToken",e.token,"user");this.del(a+":_password","user");this.del(a+":username","user");this.del(a+":email","user");this.del(a+":always-auth","user")}else{if(e.username||e.password||e.email){assert(e.username,"must include username");assert(e.password,"must include password");assert(e.email,"must include email address");this.del(a+":_authToken","user");var d=Buffer.from(e.password,"utf8").toString("base64");this.set(a+":_password",d,"user");this.set(a+":username",e.username,"user");this.set(a+":email",e.email,"user");if(e.alwaysAuth!==undefined){this.set(a+":always-auth",e.alwaysAuth,"user")}else{this.del(a+":always-auth","user")}}else{throw new Error("No credentials to set.")}}};