var test=require("tape");var path=require("path");var findNodeDirectory=require("../lib/find-node-directory");var platforms=["darwin","freebsd","linux","sunos","win32","aix"];test("test find-node-directory - node install",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c={execPath:"/x/y/bin/node",platform:platforms[b]};a.equal(findNodeDirectory("/x/deps/npm/node_modules/node-gyp/lib",c),path.join("/x"))}});test("test find-node-directory - node build",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c={execPath:"/x/y/bin/node",platform:platforms[b]};if(platforms[b]==="win32"){a.equal(findNodeDirectory("/y/node_modules/npm/node_modules/node-gyp/lib",c),path.join("/y"))}else{a.equal(findNodeDirectory("/y/lib/node_modules/npm/node_modules/node-gyp/lib",c),path.join("/y"))}}});test("test find-node-directory - node in bin directory",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c={execPath:"/x/y/bin/node",platform:platforms[b]};a.equal(findNodeDirectory("/nothere/npm/node_modules/node-gyp/lib",c),path.join("/x/y"))}});test("test find-node-directory - node in build release dir",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c;if(platforms[b]==="win32"){c={execPath:"/x/y/Release/node",platform:platforms[b]}}else{c={execPath:"/x/y/out/Release/node",platform:platforms[b]}}a.equal(findNodeDirectory("/nothere/npm/node_modules/node-gyp/lib",c),path.join("/x/y"))}});test("test find-node-directory - node in Debug release dir",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c;if(platforms[b]==="win32"){c={execPath:"/a/b/Debug/node",platform:platforms[b]}}else{c={execPath:"/a/b/out/Debug/node",platform:platforms[b]}}a.equal(findNodeDirectory("/nothere/npm/node_modules/node-gyp/lib",c),path.join("/a/b"))}});test("test find-node-directory - not found",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c={execPath:"/x/y/z/y",platform:b};a.equal(findNodeDirectory("/a/b/c/d",c),"")}});test("test find-node-directory - node install",function(a){a.plan(platforms.length);for(var b=0;b<platforms.length;b++){var c={execPath:"/x/y/bin/node",platform:platforms[b]};a.equal(findNodeDirectory("/x/y/z/a/b/c/deps/npm/node_modules/node-gyp/lib",c),path.join("/x/y/z/a/b/c"))}});