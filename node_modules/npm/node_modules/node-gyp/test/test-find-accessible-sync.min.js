"use strict";var test=require("tape");var path=require("path");var requireInject=require("require-inject");var configure=requireInject("../lib/configure",{"graceful-fs":{closeSync:function(a){return undefined},openSync:function(b){if(readableFiles.some(function(c){return c===b})){return 0}else{var a=new Error("ENOENT - not found");throw a}}}});var dir=path.sep+"testdir";var readableFile="readable_file";var anotherReadableFile="another_readable_file";var readableFileInDir="somedir"+path.sep+readableFile;var readableFiles=[path.resolve(dir,readableFile),path.resolve(dir,anotherReadableFile),path.resolve(dir,readableFileInDir)];test("find accessible - empty array",function(a){a.plan(1);var c=[];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,undefined)});test("find accessible - single item array, readable",function(a){a.plan(1);var c=[readableFile];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,path.resolve(dir,readableFile))});test("find accessible - single item array, readable in subdir",function(a){a.plan(1);var c=[readableFileInDir];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,path.resolve(dir,readableFileInDir))});test("find accessible - single item array, unreadable",function(a){a.plan(1);var c=["unreadable_file"];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,undefined)});test("find accessible - multi item array, no matches",function(a){a.plan(1);var c=["non_existent_file","unreadable_file"];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,undefined)});test("find accessible - multi item array, single match",function(a){a.plan(1);var c=["non_existent_file",readableFile];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,path.resolve(dir,readableFile))});test("find accessible - multi item array, return first match",function(a){a.plan(1);var c=["non_existent_file",anotherReadableFile,readableFile];var b=configure.test.findAccessibleSync("test",dir,c);a.strictEqual(b,path.resolve(dir,anotherReadableFile))});