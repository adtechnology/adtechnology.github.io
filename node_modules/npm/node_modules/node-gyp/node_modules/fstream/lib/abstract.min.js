module.exports=Abstract;var Stream=require("stream").Stream;var inherits=require("inherits");function Abstract(){Stream.call(this)}inherits(Abstract,Stream);Abstract.prototype.on=function(b,a){if(b==="ready"&&this.ready){process.nextTick(a.bind(this))}else{Stream.prototype.on.call(this,b,a)}return this};Abstract.prototype.abort=function(){this._aborted=true;this.emit("abort")};Abstract.prototype.destroy=function(){};Abstract.prototype.warn=function(c,b){var a=this;var d=decorate(c,b,a);if(!a.listeners("warn")){console.error("%s %s\npath = %s\nsyscall = %s\nfstream_type = %s\nfstream_path = %s\nfstream_unc_path = %s\nfstream_class = %s\nfstream_stack =\n%s\n",b||"UNKNOWN",d.stack,d.path,d.syscall,d.fstream_type,d.fstream_path,d.fstream_unc_path,d.fstream_class,d.fstream_stack.join("\n"))}else{a.emit("warn",d)}};Abstract.prototype.info=function(b,a){this.emit("info",b,a)};Abstract.prototype.error=function(c,b,a){var d=decorate(c,b,this);if(a){throw d}else{this.emit("error",d)}};function decorate(c,b,a){if(!(c instanceof Error)){c=new Error(c)}c.code=c.code||b;c.path=c.path||a.path;c.fstream_type=c.fstream_type||a.type;c.fstream_path=c.fstream_path||a.path;if(a._path!==a.path){c.fstream_unc_path=c.fstream_unc_path||a._path}if(a.linkpath){c.fstream_linkpath=c.fstream_linkpath||a.linkpath}c.fstream_class=c.fstream_class||a.constructor.name;c.fstream_stack=c.fstream_stack||new Error().stack.split(/\n/).slice(3).map(function(d){return d.replace(/^ {4}at /,"")});return c};