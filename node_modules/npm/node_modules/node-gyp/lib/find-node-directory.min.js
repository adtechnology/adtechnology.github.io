var path=require("path"),log=require("npmlog");function findNodeDirectory(b,d){if(b===undefined){b=__dirname}if(d===undefined){d=process}npm_parent_directory=path.join(b,"../../../..");log.verbose("node-gyp root","npm_parent_directory is "+path.basename(npm_parent_directory));node_root_dir="";log.verbose("node-gyp root","Finding node root directory");if(path.basename(npm_parent_directory)==="deps"){node_root_dir=path.join(npm_parent_directory,"..");log.verbose("node-gyp root","in build directory, root = "+node_root_dir)}else{if(path.basename(npm_parent_directory)==="node_modules"){if(d.platform==="win32"){node_root_dir=path.join(npm_parent_directory,"..")}else{node_root_dir=path.join(npm_parent_directory,"../..")}log.verbose("node-gyp root","in install directory, root = "+node_root_dir)}else{var a=path.dirname(d.execPath);var c=path.basename(a);if(c==="bin"){node_root_dir=path.join(a,"..")}else{if(c==="Release"||c==="Debug"){if(d.platform==="win32"){node_root_dir=path.join(a,"..")}else{node_root_dir=path.join(a,"../..")}}}}}return node_root_dir}module.exports=findNodeDirectory;