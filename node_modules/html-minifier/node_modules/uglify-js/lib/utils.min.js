"use strict";function characters(a){return a.split("")}function member(a,b){return b.indexOf(a)>=0}function find_if(b,d){for(var a=0,c=d.length;a<c;++a){if(b(d[a])){return d[a]}}}function repeat_string(c,a){if(a<=0){return""}if(a==1){return c}var b=repeat_string(c,a>>1);b+=b;return a&1?b+c:b}function configure_error_stack(a){Object.defineProperty(a.prototype,"stack",{get:function(){var b=new Error(this.message);b.name=this.name;try{throw b}catch(c){return c.stack}}})}function DefaultsError(b,a){this.message=b;this.defs=a}DefaultsError.prototype=Object.create(Error.prototype);DefaultsError.prototype.constructor=DefaultsError;DefaultsError.prototype.name="DefaultsError";configure_error_stack(DefaultsError);function defaults(c,a,e){if(c===true){c={}}var b=c||{};if(e){for(var d in b){if(HOP(b,d)&&!HOP(a,d)){throw new DefaultsError("`"+d+"` is not a supported option",a)}}}for(var d in a){if(HOP(a,d)){b[d]=(c&&HOP(c,d))?c[d]:a[d]}}return b}function merge(d,b){var c=0;for(var a in b){if(HOP(b,a)){d[a]=b[a];c++}}return c}function noop(){}function return_false(){return false}function return_true(){return true}function return_this(){return this}function return_null(){return null}var MAP=(function(){function c(h,l,g){var j=[],m=[],k;function n(){var i=l(h[k],k);var f=i instanceof b;if(f){i=i.v}if(i instanceof a){i=i.v;if(i instanceof e){m.push.apply(m,g?i.v.slice().reverse():i.v)}else{m.push(i)}}else{if(i!==d){if(i instanceof e){j.push.apply(j,g?i.v.slice().reverse():i.v)}else{j.push(i)}}}return f}if(Array.isArray(h)){if(g){for(k=h.length;--k>=0;){if(n()){break}}j.reverse();m.reverse()}else{for(k=0;k<h.length;++k){if(n()){break}}}}else{for(k in h){if(HOP(h,k)){if(n()){break}}}}return m.concat(j)}c.at_top=function(f){return new a(f)};c.splice=function(f){return new e(f)};c.last=function(f){return new b(f)};var d=c.skip={};function a(f){this.v=f}function e(f){this.v=f}function b(f){this.v=f}return c})();function push_uniq(b,a){if(b.indexOf(a)<0){b.push(a)}}function string_template(b,a){return b.replace(/\{(.+?)\}/g,function(d,c){return a&&a[c]})}function remove(c,b){for(var a=c.length;--a>=0;){if(c[a]===b){c.splice(a,1)}}}function makePredicate(b){if(!Array.isArray(b)){b=b.split(" ")}var a=Object.create(null);b.forEach(function(c){a[c]=true});return a}function all(c,a){for(var b=c.length;--b>=0;){if(!a(c[b])){return false}}return true}function Dictionary(){this._values=Object.create(null);this._size=0}Dictionary.prototype={set:function(a,b){if(!this.has(a)){++this._size}this._values["$"+a]=b;return this},add:function(a,b){if(this.has(a)){this.get(a).push(b)}else{this.set(a,[b])}return this},get:function(a){return this._values["$"+a]},del:function(a){if(this.has(a)){--this._size;delete this._values["$"+a]}return this},has:function(a){return("$"+a) in this._values},each:function(b){for(var a in this._values){b(this._values[a],a.substr(1))}},size:function(){return this._size},map:function(c){var a=[];for(var b in this._values){a.push(c(this._values[b],b.substr(1)))}return a},clone:function(){var a=new Dictionary();for(var b in this._values){a._values[b]=this._values[b]}a._size=this._size;return a},toObject:function(){return this._values}};Dictionary.fromObject=function(a){var b=new Dictionary();b._size=merge(b._values,a);return b};function HOP(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function first_in_statement(a){var c=a.parent(-1);for(var b=0,d;d=a.parent(b++);c=d){if(d.TYPE=="Call"){if(d.expression===c){continue}}else{if(d instanceof AST_Binary){if(d.left===c){continue}}else{if(d instanceof AST_Conditional){if(d.condition===c){continue}}else{if(d instanceof AST_PropAccess){if(d.expression===c){continue}}else{if(d instanceof AST_Sequence){if(d.expressions[0]===c){continue}}else{if(d instanceof AST_Statement){return d.body===c}else{if(d instanceof AST_UnaryPostfix){if(d.expression===c){continue}}}}}}}}return false}};