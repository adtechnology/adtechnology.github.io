"use strict";function characters(b){return b.split("")}function member(d,c){return c.indexOf(d)>=0}function find_if(e,g){for(var f=0,h=g.length;f<h;++f){if(e(g[f])){return g[f]}}}function repeat_string(f,e){if(e<=0){return""}if(e==1){return f}var d=repeat_string(f,e>>1);d+=d;return e&1?d+f:d}function configure_error_stack(b){Object.defineProperty(b.prototype,"stack",{get:function(){var a=new Error(this.message);a.name=this.name;try{throw a}catch(d){return d.stack}}})}function DefaultsError(c,d){this.message=c;this.defs=d}DefaultsError.prototype=Object.create(Error.prototype);DefaultsError.prototype.constructor=DefaultsError;DefaultsError.prototype.name="DefaultsError";configure_error_stack(DefaultsError);function defaults(j,g,h){if(j===true){j={}}var f=j||{};if(h){for(var i in f){if(HOP(f,i)&&!HOP(g,i)){throw new DefaultsError("`"+i+"` is not a supported option",g)}}}for(var i in g){if(HOP(g,i)){f[i]=(j&&HOP(j,i))?j[i]:g[i]}}return f}function merge(g,e){var h=0;for(var f in e){if(HOP(e,f)){g[f]=e[f];h++}}return h}function noop(){}function return_false(){return false}function return_true(){return true}function return_this(){return this}function return_null(){return null}var MAP=(function(){function j(e,b,o){var d=[],a=[],c;function p(){var k=b(e[c],c);var l=k instanceof f;if(l){k=k.v}if(k instanceof g){k=k.v;if(k instanceof h){a.push.apply(a,o?k.v.slice().reverse():k.v)}else{a.push(k)}}else{if(k!==i){if(k instanceof h){d.push.apply(d,o?k.v.slice().reverse():k.v)}else{d.push(k)}}}return l}if(Array.isArray(e)){if(o){for(c=e.length;--c>=0;){if(p()){break}}d.reverse();a.reverse()}else{for(c=0;c<e.length;++c){if(p()){break}}}}else{for(c in e){if(HOP(e,c)){if(p()){break}}}}return a.concat(d)}j.at_top=function(a){return new g(a)};j.splice=function(a){return new h(a)};j.last=function(a){return new f(a)};var i=j.skip={};function g(a){this.v=a}function h(a){this.v=a}function f(a){this.v=a}return j})();function push_uniq(c,d){if(c.indexOf(d)<0){c.push(d)}}function string_template(c,d){return c.replace(/\{(.+?)\}/g,function(a,b){return d&&d[b]})}function remove(f,d){for(var e=f.length;--e>=0;){if(f[e]===d){f.splice(e,1)}}}function makePredicate(c){if(!Array.isArray(c)){c=c.split(" ")}var d=Object.create(null);c.forEach(function(a){d[a]=true});return d}function all(f,e){for(var d=f.length;--d>=0;){if(!e(f[d])){return false}}return true}function Dictionary(){this._values=Object.create(null);this._size=0}Dictionary.prototype={set:function(d,c){if(!this.has(d)){++this._size}this._values["$"+d]=c;return this},add:function(d,c){if(this.has(d)){this.get(d).push(c)}else{this.set(d,[c])}return this},get:function(b){return this._values["$"+b]},del:function(b){if(this.has(b)){--this._size;delete this._values["$"+b]}return this},has:function(b){return("$"+b) in this._values},each:function(c){for(var d in this._values){c(this._values[d],d.substr(1))}},size:function(){return this._size},map:function(f){var e=[];for(var d in this._values){e.push(f(this._values[d],d.substr(1)))}return e},clone:function(){var d=new Dictionary();for(var c in this._values){d._values[c]=this._values[c]}d._size=this._size;return d},toObject:function(){return this._values}};Dictionary.fromObject=function(d){var c=new Dictionary();c._size=merge(c._values,d);return c};function HOP(d,c){return Object.prototype.hasOwnProperty.call(d,c)}function first_in_statement(f){var h=f.parent(-1);for(var e=0,g;g=f.parent(e++);h=g){if(g.TYPE=="Call"){if(g.expression===h){continue}}else{if(g instanceof AST_Binary){if(g.left===h){continue}}else{if(g instanceof AST_Conditional){if(g.condition===h){continue}}else{if(g instanceof AST_PropAccess){if(g.expression===h){continue}}else{if(g instanceof AST_Sequence){if(g.expressions[0]===h){continue}}else{if(g instanceof AST_Statement){return g.body===h}else{if(g instanceof AST_UnaryPostfix){if(g.expression===h){continue}}}}}}}}return false}};