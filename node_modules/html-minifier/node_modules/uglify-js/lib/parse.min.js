"use strict";var KEYWORDS="break case catch const continue debugger default delete do else finally for function if in instanceof new return switch throw try typeof var void while with";var KEYWORDS_ATOM="false null true";var RESERVED_WORDS="abstract boolean byte char class double enum export extends final float goto implements import int interface let long native package private protected public short static super synchronized this throws transient volatile yield "+KEYWORDS_ATOM+" "+KEYWORDS;var KEYWORDS_BEFORE_EXPRESSION="return new delete throw else case";KEYWORDS=makePredicate(KEYWORDS);RESERVED_WORDS=makePredicate(RESERVED_WORDS);KEYWORDS_BEFORE_EXPRESSION=makePredicate(KEYWORDS_BEFORE_EXPRESSION);KEYWORDS_ATOM=makePredicate(KEYWORDS_ATOM);var OPERATOR_CHARS=makePredicate(characters("+-*&%=<>!?|~^"));var RE_HEX_NUMBER=/^0x[0-9a-f]+$/i;var RE_OCT_NUMBER=/^0[0-7]+$/;var OPERATORS=makePredicate(["in","instanceof","typeof","new","void","delete","++","--","+","-","!","~","&","|","^","*","/","%",">>","<<",">>>","<",">","<=",">=","==","===","!=","!==","?","=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&=","&&","||"]);var WHITESPACE_CHARS=makePredicate(characters(" \u00a0\n\r\t\f\u000b\u200b\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u2028\u2029\u202f\u205f\u3000\uFEFF"));var NEWLINE_CHARS=makePredicate(characters("\n\r\u2028\u2029"));var PUNC_BEFORE_EXPRESSION=makePredicate(characters("[{(,;:"));var PUNC_CHARS=makePredicate(characters("[]{}(),;:"));var UNICODE={letter:new RegExp("[\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0-\\u08B2\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA7AD\\uA7B0\\uA7B1\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB5F\\uAB64\\uAB65\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC]"),digit:new RegExp("[\\u0030-\\u0039\\u0660-\\u0669\\u06F0-\\u06F9\\u07C0-\\u07C9\\u0966-\\u096F\\u09E6-\\u09EF\\u0A66-\\u0A6F\\u0AE6-\\u0AEF\\u0B66-\\u0B6F\\u0BE6-\\u0BEF\\u0C66-\\u0C6F\\u0CE6-\\u0CEF\\u0D66-\\u0D6F\\u0DE6-\\u0DEF\\u0E50-\\u0E59\\u0ED0-\\u0ED9\\u0F20-\\u0F29\\u1040-\\u1049\\u1090-\\u1099\\u17E0-\\u17E9\\u1810-\\u1819\\u1946-\\u194F\\u19D0-\\u19D9\\u1A80-\\u1A89\\u1A90-\\u1A99\\u1B50-\\u1B59\\u1BB0-\\u1BB9\\u1C40-\\u1C49\\u1C50-\\u1C59\\uA620-\\uA629\\uA8D0-\\uA8D9\\uA900-\\uA909\\uA9D0-\\uA9D9\\uA9F0-\\uA9F9\\uAA50-\\uAA59\\uABF0-\\uABF9\\uFF10-\\uFF19]"),non_spacing_mark:new RegExp("[\\u0300-\\u036F\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065E\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0900-\\u0902\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09BC\\u09C1-\\u09C4\\u09CD\\u09E2\\u09E3\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0B01\\u0B3C\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B56\\u0B62\\u0B63\\u0B82\\u0BC0\\u0BCD\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0CBC\\u0CBF\\u0CC6\\u0CCC\\u0CCD\\u0CE2\\u0CE3\\u0D41-\\u0D44\\u0D4D\\u0D62\\u0D63\\u0DCA\\u0DD2-\\u0DD4\\u0DD6\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F90-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1B00-\\u1B03\\u1B34\\u1B36-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1DC0-\\u1DE6\\u1DFD-\\u1DFF\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F\\uA67C\\uA67D\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]"),space_combining_mark:new RegExp("[\\u0903\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u0982\\u0983\\u09BE-\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u09D7\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B3E\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0B57\\u0BBE\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0BD7\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0-\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0CD5\\u0CD6\\u0D02\\u0D03\\u0D3E-\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D57\\u0D82\\u0D83\\u0DCF-\\u0DD1\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0F3E\\u0F3F\\u0F7F\\u102B\\u102C\\u1031\\u1038\\u103B\\u103C\\u1056\\u1057\\u1062-\\u1064\\u1067-\\u106D\\u1083\\u1084\\u1087-\\u108C\\u108F\\u109A-\\u109C\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A19-\\u1A1B\\u1A55\\u1A57\\u1A61\\u1A63\\u1A64\\u1A6D-\\u1A72\\u1B04\\u1B35\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF2\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BD-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAA7B\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]"),connector_punctuation:new RegExp("[\\u005F\\u203F\\u2040\\u2054\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF3F]")};function is_letter(a){return(a>=97&&a<=122)||(a>=65&&a<=90)||(a>=170&&UNICODE.letter.test(String.fromCharCode(a)))}function is_surrogate_pair_head(a){if(typeof a=="string"){a=a.charCodeAt(0)}return a>=55296&&a<=56319}function is_surrogate_pair_tail(a){if(typeof a=="string"){a=a.charCodeAt(0)}return a>=56320&&a<=57343}function is_digit(a){return a>=48&&a<=57}function is_alphanumeric_char(a){return is_digit(a)||is_letter(a)}function is_unicode_digit(a){return UNICODE.digit.test(String.fromCharCode(a))}function is_unicode_combining_mark(a){return UNICODE.non_spacing_mark.test(a)||UNICODE.space_combining_mark.test(a)}function is_unicode_connector_punctuation(a){return UNICODE.connector_punctuation.test(a)}function is_identifier(a){return !RESERVED_WORDS[a]&&/^[a-z_$][a-z0-9_$]*$/i.test(a)}function is_identifier_start(a){return a==36||a==95||is_letter(a)}function is_identifier_char(a){var b=a.charCodeAt(0);return is_identifier_start(b)||is_digit(b)||b==8204||b==8205||is_unicode_combining_mark(a)||is_unicode_connector_punctuation(a)||is_unicode_digit(b)}function is_identifier_string(a){return/^[a-z_$][a-z0-9_$]*$/i.test(a)}function parse_js_number(a){if(RE_HEX_NUMBER.test(a)){return parseInt(a.substr(2),16)}else{if(RE_OCT_NUMBER.test(a)){return parseInt(a.substr(1),8)}else{var b=parseFloat(a);if(b==a){return b}}}}function JS_Parse_Error(d,b,a,c,e){this.message=d;this.filename=b;this.line=a;this.col=c;this.pos=e}JS_Parse_Error.prototype=Object.create(Error.prototype);JS_Parse_Error.prototype.constructor=JS_Parse_Error;JS_Parse_Error.prototype.name="SyntaxError";configure_error_stack(JS_Parse_Error);function js_error(d,b,a,c,e){throw new JS_Parse_Error(d,b,a,c,e)}function is_token(a,b,c){return a.type==b&&(c==null||a.value==c)}var EX_EOF={};function tokenizer(b,x,n,v){var f={text:b,filename:x,pos:0,tokpos:0,line:1,tokline:0,col:0,tokcol:0,newline_before:false,regex_allowed:false,comments_before:[],directives:{},directive_stack:[]};function u(){return f.text.charAt(f.pos)}function t(G,H){var I=f.text.charAt(f.pos++);if(G&&!I){throw EX_EOF}if(NEWLINE_CHARS[I]){f.newline_before=f.newline_before||!H;++f.line;f.col=0;if(!H&&I=="\r"&&u()=="\n"){++f.pos;I="\n"}}else{++f.col}return I}function o(G){while(G-->0){t()}}function A(G){return f.text.substr(f.pos,G.length)==G}function D(){var I=f.text;for(var G=f.pos,J=f.text.length;G<J;++G){var H=I[G];if(NEWLINE_CHARS[H]){return G}}return -1}function r(H,G){var I=f.text.indexOf(H,f.pos);if(G&&I==-1){throw EX_EOF}return I}function q(){f.tokline=f.line;f.tokcol=f.col;f.tokpos=f.pos}var E=false;function j(I,J,H){f.regex_allowed=((I=="operator"&&!UNARY_POSTFIX[J])||(I=="keyword"&&KEYWORDS_BEFORE_EXPRESSION[J])||(I=="punc"&&PUNC_BEFORE_EXPRESSION[J]));if(I=="punc"&&J=="."){E=true}else{if(!H){E=false}}var G={type:I,value:J,line:f.tokline,col:f.tokcol,pos:f.tokpos,endline:f.line,endcol:f.col,endpos:f.pos,nlb:f.newline_before,file:x};if(/^(?:num|string|regexp)$/i.test(I)){G.raw=b.substring(G.pos,G.endpos)}if(!H){G.comments_before=f.comments_before;G.comments_after=f.comments_before=[]}f.newline_before=false;return new AST_Token(G)}function F(){while(WHITESPACE_CHARS[u()]){t()}}function l(G){var H="",J,I=0;while((J=u())&&G(J,I++)){H+=t()}return H}function w(G){js_error(G,x,f.tokline,f.tokcol,f.tokpos)}function p(L){var J=false,H=false,M=false,G=L==".";var I=l(function(O,N){var P=O.charCodeAt(0);switch(P){case 120:case 88:return M?false:(M=true);case 101:case 69:return M?true:J?false:(J=H=true);case 45:return H||(N==0&&!L);case 43:return H;case (H=false,46):return(!G&&!M&&!J)?(G=true):false}return is_alphanumeric_char(P)});if(L){I=L+I}if(RE_OCT_NUMBER.test(I)&&m.has_directive("use strict")){w("Legacy octal literals are not allowed in strict mode")}var K=parse_js_number(I);if(!isNaN(K)){return j("num",K)}else{w("Invalid syntax: "+I)}}function s(G){var H=t(true,G);switch(H.charCodeAt(0)){case 110:return"\n";case 114:return"\r";case 116:return"\t";case 98:return"\b";case 118:return"\u000b";case 102:return"\f";case 120:return String.fromCharCode(k(2));case 117:return String.fromCharCode(k(4));case 10:return"";case 13:if(u()=="\n"){t(true,G);return""}}if(H>="0"&&H<="7"){return z(H)}return H}function z(G){var H=u();if(H>="0"&&H<="7"){G+=t(true);if(G[0]<="3"&&(H=u())>="0"&&H<="7"){G+=t(true)}}if(G==="0"){return"\0"}if(G.length>0&&m.has_directive("use strict")){w("Legacy octal escape sequences are not allowed in strict mode")}return String.fromCharCode(parseInt(G,8))}function k(I){var G=0;for(;I>0;--I){var H=parseInt(t(true),16);if(isNaN(H)){w("Invalid hex-character pattern in string")}G=(G<<4)|H}return G}var e=g("Unterminated string constant",function(J){var H=t(),I="";for(;;){var K=t(true,true);if(K=="\\"){K=s(true)}else{if(NEWLINE_CHARS[K]){w("Unterminated string constant")}else{if(K==H){break}}}I+=K}var G=j("string",I);G.quote=J;return G});function y(J){var H=f.regex_allowed;var I=D(),G;if(I==-1){G=f.text.substr(f.pos);f.pos=f.text.length}else{G=f.text.substring(f.pos,I);f.pos=I}f.col=f.tokcol+(f.pos-f.tokpos);f.comments_before.push(j(J,G,true));f.regex_allowed=H;return m}var C=g("Unterminated multiline comment",function(){var G=f.regex_allowed;var H=r("*/",true);var I=f.text.substring(f.pos,H).replace(/\r\n|\r|\u2028|\u2029/g,"\n");o(I.length+2);f.comments_before.push(j("comment2",I,true));f.regex_allowed=G;return m});function i(){var K=false,G="",H,J=false,I;while((H=u())!=null){if(!K){if(H=="\\"){J=K=true,t()}else{if(is_identifier_char(H)){G+=t()}else{break}}}else{if(H!="u"){w("Expecting UnicodeEscapeSequence -- uXXXX")}H=s();if(!is_identifier_char(H)){w("Unicode char: "+H.charCodeAt(0)+" is not valid in identifier")}G+=H;K=false}}if(KEYWORDS[G]&&J){I=G.charCodeAt(0).toString(16).toUpperCase();G="\\u"+"0000".substr(I.length)+I+G.slice(1)}return G}var c=g("Unterminated regular expression",function(K){var G=false,H,M=false;while((H=t(true))){if(NEWLINE_CHARS[H]){w("Unexpected line terminator")}else{if(G){K+="\\"+H;G=false}else{if(H=="["){M=true;K+=H}else{if(H=="]"&&M){M=false;K+=H}else{if(H=="/"&&!M){break}else{if(H=="\\"){G=true}else{K+=H}}}}}}}var I=i();try{var J=new RegExp(K,I);J.raw_source=K;return j("regexp",J)}catch(L){w(L.message)}});function B(G){function H(J){if(!u()){return J}var I=J+u();if(OPERATORS[I]){t();return H(I)}else{return J}}return j("operator",H(G||t()))}function h(){t();switch(u()){case"/":t();return y("comment1");case"*":t();return C()}return f.regex_allowed?c(""):B("/")}function a(){t();return is_digit(u().charCodeAt(0))?p("."):j("punc",".")}function d(){var G=i();if(E){return j("name",G)}return KEYWORDS_ATOM[G]?j("atom",G):!KEYWORDS[G]?j("name",G):OPERATORS[G]?j("operator",G):j("keyword",G)}function g(H,G){return function(I){try{return G(I)}catch(J){if(J===EX_EOF){w(H)}else{throw J}}}}function m(J){if(J!=null){return c(J)}if(v&&f.pos==0&&A("#!")){q();o(2);y("comment5")}for(;;){F();q();if(n){if(A("<!--")){o(4);y("comment3");continue}if(A("-->")&&f.newline_before){o(3);y("comment4");continue}}var H=u();if(!H){return j("eof")}var I=H.charCodeAt(0);switch(I){case 34:case 39:return e(H);case 46:return a();case 47:var G=h();if(G===m){continue}return G}if(is_digit(I)){return p()}if(PUNC_CHARS[H]){return j("punc",t())}if(OPERATOR_CHARS[H]){return B()}if(I==92||is_identifier_start(I)){return d()}break}w("Unexpected character '"+H+"'")}m.context=function(G){if(G){f=G}return f};m.add_directive=function(G){f.directive_stack[f.directive_stack.length-1].push(G);if(f.directives[G]===undefined){f.directives[G]=1}else{f.directives[G]++}};m.push_directives_stack=function(){f.directive_stack.push([])};m.pop_directives_stack=function(){var H=f.directive_stack[f.directive_stack.length-1];for(var G=0;G<H.length;G++){f.directives[H[G]]--}f.directive_stack.pop()};m.has_directive=function(G){return f.directives[G]>0};return m}var UNARY_PREFIX=makePredicate(["typeof","void","delete","--","++","!","~","-","+"]);var UNARY_POSTFIX=makePredicate(["--","++"]);var ASSIGNMENT=makePredicate(["=","+=","-=","/=","*=","%=",">>=","<<=",">>>=","|=","^=","&="]);var PRECEDENCE=(function(d,f){for(var g=0;g<d.length;++g){var c=d[g];for(var e=0;e<c.length;++e){f[c[e]]=g+1}}return f})([["||"],["&&"],["|"],["^"],["&"],["==","===","!=","!=="],["<",">","<=",">=","in","instanceof"],[">>","<<",">>>"],["+","-"],["*","/","%"]],{});var ATOMIC_START_TOKEN=makePredicate(["atom","num","string","regexp","name"]);function parse(e,u){u=defaults(u,{bare_returns:false,expression:false,filename:null,html5_comments:true,shebang:true,strict:false,toplevel:null},true);var k={input:(typeof e=="string"?tokenizer(e,u.filename,u.html5_comments,u.shebang):e),token:null,prev:null,peeked:null,in_function:0,in_directives:true,in_loop:0,labels:[]};k.token=i();function x(S,ae){return is_token(k.token,S,ae)}function m(){return k.peeked||(k.peeked=k.input())}function i(){k.prev=k.token;if(k.peeked){k.token=k.peeked;k.peeked=null}else{k.token=k.input()}k.in_directives=k.in_directives&&(k.token.type=="string"||x("punc",";"));return k.token}function B(){return k.prev}function h(ag,ae,af,ah){var S=k.input.context();js_error(ag,S.filename,ae!=null?ae:S.tokline,af!=null?af:S.tokcol,ah!=null?ah:S.tokpos)}function c(S,ae){h(ae,S.line,S.col)}function M(S){if(S==null){S=k.token}c(S,"Unexpected token: "+S.type+" ("+S.value+")")}function w(S,ae){if(x(S,ae)){return i()}c(k.token,"Unexpected token "+k.token.type+" «"+k.token.value+"», expected "+S+" «"+ae+"»")}function d(S){return w("punc",S)}function r(S){return S.nlb||!all(S.comments_before,function(ae){return !ae.nlb})}function D(){return !u.strict&&(x("eof")||x("punc","}")||r(k.token))}function Y(S){if(x("punc",";")){i()}else{if(!S&&!D()){M()}}}function l(){d("(");var S=t(true);d(")");return S}function g(S){return function(){var ag=k.token;var af=S.apply(null,arguments);var ae=B();af.start=ag;af.end=ae;return af}}function A(){if(x("operator","/")||x("operator","/=")){k.peeked=null;k.token=k.input(k.token.value.substr(1))}}var v=g(function(ae){A();switch(k.token.type){case"string":if(k.in_directives){var ag=m();if(k.token.raw.indexOf("\\")==-1&&(is_token(ag,"punc",";")||is_token(ag,"punc","}")||r(ag)||is_token(ag,"eof"))){k.input.add_directive(k.token.value)}else{k.in_directives=false}}var af=k.in_directives,ah=p();return af?new AST_Directive(ah.body):ah;case"num":case"regexp":case"operator":case"atom":return p();case"name":return is_token(m(),"punc",":")?W():p();case"punc":switch(k.token.value){case"{":return new AST_BlockStatement({start:k.token,body:o(),end:B()});case"[":case"(":return p();case";":k.in_directives=false;i();return new AST_EmptyStatement();default:M()}case"keyword":switch(k.token.value){case"break":i();return Z(AST_Break);case"continue":i();return Z(AST_Continue);case"debugger":i();Y();return new AST_Debugger();case"do":i();var S=j(v);w("keyword","while");var ak=l();Y(true);return new AST_Do({body:S,condition:ak});case"while":i();return new AST_While({condition:l(),body:j(v)});case"for":i();return O();case"function":if(!ae&&k.input.has_directive("use strict")){h("In strict mode code, functions can only be declared at top level or immediately within another function.")}i();return C(AST_Defun);case"if":i();return y();case"return":if(k.in_function==0&&!u.bare_returns){h("'return' outside of function")}i();var aj=null;if(x("punc",";")){i()}else{if(!D()){aj=t(true);Y()}}return new AST_Return({value:aj});case"switch":i();return new AST_Switch({expression:l(),body:j(Q)});case"throw":i();if(r(k.token)){h("Illegal newline after 'throw'")}var aj=t(true);Y();return new AST_Throw({value:aj});case"try":i();return V();case"var":i();var ai=a();Y();return ai;case"with":if(k.input.has_directive("use strict")){h("Strict mode may not include a with statement")}i();return new AST_With({expression:l(),body:v()})}}M()});function W(){var S=P(AST_Label);if(!all(k.labels,function(af){return af.name!=S.name})){h("Label "+S.name+" defined twice")}d(":");k.labels.push(S);var ae=v();k.labels.pop();if(!(ae instanceof AST_IterationStatement)){S.references.forEach(function(af){if(af instanceof AST_Continue){af=af.label.start;h("Continue label `"+S.name+"` refers to non-IterationStatement.",af.line,af.col,af.pos)}})}return new AST_LabeledStatement({body:ae,label:S})}function p(S){return new AST_SimpleStatement({body:(S=t(true),Y(),S)})}function Z(ag){var ae=null,S;if(!D()){ae=P(AST_LabelRef,true)}if(ae!=null){S=find_if(function(ah){return ah.name==ae.name},k.labels);if(!S){h("Undefined label "+ae.name)}ae.thedef=S}else{if(k.in_loop==0){h(ag.TYPE+" not inside a loop or switch")}}Y();var af=new ag({label:ae});if(S){S.references.push(af)}return af}function O(){d("(");var S=null;if(!x("punc",";")){S=x("keyword","var")?(i(),a(true)):t(true,true);if(x("operator","in")){if(S instanceof AST_Var){if(S.definitions.length>1){h("Only one variable declaration allowed in for..in loop",S.start.line,S.start.col,S.start.pos)}}else{if(!I(S)){h("Invalid left-hand side in for..in loop",S.start.line,S.start.col,S.start.pos)}}i();return G(S)}}return K(S)}function K(ae){d(";");var af=x("punc",";")?null:t(true);d(";");var S=x("punc",")")?null:t(true);d(")");return new AST_For({init:ae,condition:af,step:S,body:j(v)})}function G(ae){var S=t(true);d(")");return new AST_ForIn({init:ae,object:S,body:j(v)})}var C=function(ai){var af=ai===AST_Defun;var ag=x("name")?P(af?AST_SymbolDefun:AST_SymbolLambda):null;if(af&&!ag){M()}if(ag&&ai!==AST_Accessor&&!(ag instanceof AST_SymbolDeclaration)){M(B())}d("(");var ah=[];for(var aj=true;!x("punc",")");){if(aj){aj=false}else{d(",")}ah.push(P(AST_SymbolFunarg))}i();var ae=k.in_loop;var ak=k.labels;++k.in_function;k.in_directives=true;k.input.push_directives_stack();k.in_loop=0;k.labels=[];var S=o(true);if(k.input.has_directive("use strict")){if(ag){q(ag)}ah.forEach(q)}k.input.pop_directives_stack();--k.in_function;k.in_loop=ae;k.labels=ak;return new ai({name:ag,argnames:ah,body:S})};function y(){var af=l(),S=v(),ae=null;if(x("keyword","else")){i();ae=v()}return new AST_If({condition:af,body:S,alternative:ae})}function o(ae){d("{");var S=[];while(!x("punc","}")){if(x("eof")){M()}S.push(v(ae))}i();return S}function Q(){d("{");var S=[],ag=null,af=null,ae;while(!x("punc","}")){if(x("eof")){M()}if(x("keyword","case")){if(af){af.end=B()}ag=[];af=new AST_Case({start:(ae=k.token,i(),ae),expression:t(true),body:ag});S.push(af);d(":")}else{if(x("keyword","default")){if(af){af.end=B()}ag=[];af=new AST_Default({start:(ae=k.token,i(),d(":"),ae),body:ag});S.push(af)}else{if(!ag){M()}ag.push(v())}}}if(af){af.end=B()}i();return S}function V(){var S=o(),ae=null,ag=null;if(x("keyword","catch")){var ah=k.token;i();d("(");var af=P(AST_SymbolCatch);d(")");ae=new AST_Catch({start:ah,argname:af,body:o(),end:B()})}if(x("keyword","finally")){var ah=k.token;i();ag=new AST_Finally({start:ah,body:o(),end:B()})}if(!ae&&!ag){h("Missing catch/finally blocks")}return new AST_Try({body:S,bcatch:ae,bfinally:ag})}function b(ae){var S=[];for(;;){S.push(new AST_VarDef({start:k.token,name:P(AST_SymbolVar),value:x("operator","=")?(i(),t(false,ae)):null,end:B()}));if(!x("punc",",")){break}i()}return S}var a=function(S){return new AST_Var({start:B(),definitions:b(S),end:B()})};var F=function(ae){var ah=k.token;w("operator","new");var ag=z(false),S;if(x("punc","(")){i();S=ab(")")}else{S=[]}var af=new AST_New({start:ah,expression:ag,args:S,end:B()});L(af);return H(af,ae)};function N(){var S=k.token,ae;switch(S.type){case"name":ae=U(AST_SymbolRef);break;case"num":ae=new AST_Number({start:S,end:S,value:S.value});break;case"string":ae=new AST_String({start:S,end:S,value:S.value,quote:S.quote});break;case"regexp":ae=new AST_RegExp({start:S,end:S,value:S.value});break;case"atom":switch(S.value){case"false":ae=new AST_False({start:S,end:S});break;case"true":ae=new AST_True({start:S,end:S});break;case"null":ae=new AST_Null({start:S,end:S});break}break}i();return ae}var z=function(af){if(x("operator","new")){return F(af)}var aj=k.token;if(x("punc")){switch(aj.value){case"(":i();var ag=t(true);var S=aj.comments_before.length;[].unshift.apply(ag.start.comments_before,aj.comments_before);aj.comments_before=ag.start.comments_before;aj.comments_before_length=S;if(S==0&&aj.comments_before.length>0){var ai=aj.comments_before[0];if(!ai.nlb){ai.nlb=aj.nlb;aj.nlb=false}}aj.comments_after=ag.start.comments_after;ag.start=aj;d(")");var ae=B();ae.comments_before=ag.end.comments_before;[].push.apply(ag.end.comments_after,ae.comments_after);ae.comments_after=ag.end.comments_after;ag.end=ae;if(ag instanceof AST_Call){L(ag)}return H(ag,af);case"[":return H(X(),af);case"{":return H(ad(),af)}M()}if(x("keyword","function")){i();var ah=C(AST_Function);ah.start=aj;ah.end=B();return H(ah,af)}if(ATOMIC_START_TOKEN[k.token.type]){return H(N(),af)}M()};function ab(af,S,ag){var ah=true,ae=[];while(!x("punc",af)){if(ah){ah=false}else{d(",")}if(S&&x("punc",af)){break}if(x("punc",",")&&ag){ae.push(new AST_Hole({start:k.token,end:k.token}))}else{ae.push(t(false))}}i();return ae}var X=g(function(){d("[");return new AST_Array({elements:ab("]",!u.strict,true)})});var E=g(function(){return C(AST_Accessor)});var ad=g(function(){d("{");var ah=true,S=[];while(!x("punc","}")){if(ah){ah=false}else{d(",")}if(!u.strict&&x("punc","}")){break}var ai=k.token;var ag=ai.type;var ae=s();if(ag=="name"&&!x("punc",":")){var af=new AST_SymbolAccessor({start:k.token,name:""+s(),end:B()});if(ae=="get"){S.push(new AST_ObjectGetter({start:ai,key:af,value:E(),end:B()}));continue}if(ae=="set"){S.push(new AST_ObjectSetter({start:ai,key:af,value:E(),end:B()}));continue}}d(":");S.push(new AST_ObjectKeyVal({start:ai,quote:ai.quote,key:""+ae,value:t(false),end:B()}))}i();return new AST_Object({properties:S})});function s(){var S=k.token;switch(S.type){case"operator":if(!KEYWORDS[S.value]){M()}case"num":case"string":case"name":case"keyword":case"atom":i();return S.value;default:M()}}function R(){var S=k.token;if(S.type!="name"){M()}i();return S.value}function U(ae){var S=k.token.value;return new (S=="this"?AST_This:ae)({name:String(S),start:k.token,end:k.token})}function q(S){if(S.name=="arguments"||S.name=="eval"){h("Unexpected "+S.name+" in strict mode",S.start.line,S.start.col,S.start.pos)}}function P(ae,af){if(!x("name")){if(!af){h("Name expected")}return null}var S=U(ae);if(k.input.has_directive("use strict")&&S instanceof AST_SymbolDeclaration){q(S)}i();return S}function L(ae){var ah=ae.start;var af=ah.comments_before;var S=HOP(ah,"comments_before_length")?ah.comments_before_length:af.length;while(--S>=0){var ag=af[S];if(/[@#]__PURE__/.test(ag.value)){ae.pure=ag;break}}}var H=function(af,S){var ah=af.start;if(x("punc",".")){i();return H(new AST_Dot({start:ah,expression:af,property:R(),end:B()}),S)}if(x("punc","[")){i();var ag=t(true);d("]");return H(new AST_Sub({start:ah,expression:af,property:ag,end:B()}),S)}if(S&&x("punc","(")){i();var ae=new AST_Call({start:ah,expression:af,args:ab(")"),end:B()});L(ae);return H(ae,true)}return af};var J=function(S){var ag=k.token;if(x("operator")&&UNARY_PREFIX[ag.value]){i();A();var ae=f(AST_UnaryPrefix,ag,J(S));ae.start=ag;ae.end=B();return ae}var af=z(S);while(x("operator")&&UNARY_POSTFIX[k.token.value]&&!r(k.token)){af=f(AST_UnaryPostfix,k.token,af);af.start=ag;af.end=k.token;i()}return af};function f(ae,S,af){var ag=S.value;switch(ag){case"++":case"--":if(!I(af)){h("Invalid use of "+ag+" operator",S.line,S.col,S.pos)}break;case"delete":if(af instanceof AST_SymbolRef&&k.input.has_directive("use strict")){h("Calling delete on expression not allowed in strict mode",af.start.line,af.start.col,af.start.pos)}break}return new ae({operator:ag,expression:af})}var T=function(ah,ag,S){var ai=x("operator")?k.token.value:null;if(ai=="in"&&S){ai=null}var ae=ai!=null?PRECEDENCE[ai]:null;if(ae!=null&&ae>ag){i();var af=T(J(true),ae,S);return T(new AST_Binary({start:ah.start,left:ah,operator:ai,right:af,end:af.end}),ag,S)}return ah};function n(S){return T(J(true),0,S)}var ac=function(S){var ag=k.token;var ae=n(S);if(x("operator","?")){i();var af=t(false);d(":");return new AST_Conditional({start:ag,condition:ae,consequent:af,alternative:t(false,S),end:B()})}return ae};function I(S){return S instanceof AST_PropAccess||S instanceof AST_SymbolRef}var aa=function(S){var ag=k.token;var ae=ac(S),af=k.token.value;if(x("operator")&&ASSIGNMENT[af]){if(I(ae)){i();return new AST_Assign({start:ag,left:ae,operator:af,right:aa(S),end:B()})}h("Invalid assignment")}return ae};var t=function(ae,S){var ag=k.token;var af=[];while(true){af.push(aa(S));if(!ae||!x("punc",",")){break}i();ae=true}return af.length==1?af[0]:new AST_Sequence({start:ag,expressions:af,end:m()})};function j(S){++k.in_loop;var ae=S();--k.in_loop;return ae}if(u.expression){return t(true)}return(function(){var ag=k.token;var S=[];k.input.push_directives_stack();while(!x("eof")){S.push(v(true))}k.input.pop_directives_stack();var ae=B();var af=u.toplevel;if(af){af.body=af.body.concat(S);af.end=ae}else{af=new AST_Toplevel({start:ag,body:S,end:ae})}return af})()};