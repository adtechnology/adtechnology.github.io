"use strict";function TreeTransformer(a,b){TreeWalker.call(this);this.before=a;this.after=b}TreeTransformer.prototype=new TreeWalker;(function(c){function b(e,d){e.DEFMETHOD("transform",function(g,h){var f,i;g.push(this);if(g.before){f=g.before(this,d,h)}if(f===c){f=this;d(f,g);if(g.after){i=g.after(f,h);if(i!==c){f=i}}}g.pop();return f})}function a(e,d){return MAP(e,function(f){return f.transform(d,true)})}b(AST_Node,noop);b(AST_LabeledStatement,function(e,d){e.label=e.label.transform(d);e.body=e.body.transform(d)});b(AST_SimpleStatement,function(e,d){e.body=e.body.transform(d)});b(AST_Block,function(e,d){e.body=a(e.body,d)});b(AST_Do,function(e,d){e.body=e.body.transform(d);e.condition=e.condition.transform(d)});b(AST_While,function(e,d){e.condition=e.condition.transform(d);e.body=e.body.transform(d)});b(AST_For,function(e,d){if(e.init){e.init=e.init.transform(d)}if(e.condition){e.condition=e.condition.transform(d)}if(e.step){e.step=e.step.transform(d)}e.body=e.body.transform(d)});b(AST_ForIn,function(e,d){e.init=e.init.transform(d);e.object=e.object.transform(d);e.body=e.body.transform(d)});b(AST_With,function(e,d){e.expression=e.expression.transform(d);e.body=e.body.transform(d)});b(AST_Exit,function(e,d){if(e.value){e.value=e.value.transform(d)}});b(AST_LoopControl,function(e,d){if(e.label){e.label=e.label.transform(d)}});b(AST_If,function(e,d){e.condition=e.condition.transform(d);e.body=e.body.transform(d);if(e.alternative){e.alternative=e.alternative.transform(d)}});b(AST_Switch,function(e,d){e.expression=e.expression.transform(d);e.body=a(e.body,d)});b(AST_Case,function(e,d){e.expression=e.expression.transform(d);e.body=a(e.body,d)});b(AST_Try,function(e,d){e.body=a(e.body,d);if(e.bcatch){e.bcatch=e.bcatch.transform(d)}if(e.bfinally){e.bfinally=e.bfinally.transform(d)}});b(AST_Catch,function(e,d){e.argname=e.argname.transform(d);e.body=a(e.body,d)});b(AST_Definitions,function(e,d){e.definitions=a(e.definitions,d)});b(AST_VarDef,function(e,d){e.name=e.name.transform(d);if(e.value){e.value=e.value.transform(d)}});b(AST_Lambda,function(e,d){if(e.name){e.name=e.name.transform(d)}e.argnames=a(e.argnames,d);e.body=a(e.body,d)});b(AST_Call,function(e,d){e.expression=e.expression.transform(d);e.args=a(e.args,d)});b(AST_Sequence,function(e,d){e.expressions=a(e.expressions,d)});b(AST_Dot,function(e,d){e.expression=e.expression.transform(d)});b(AST_Sub,function(e,d){e.expression=e.expression.transform(d);e.property=e.property.transform(d)});b(AST_Unary,function(e,d){e.expression=e.expression.transform(d)});b(AST_Binary,function(e,d){e.left=e.left.transform(d);e.right=e.right.transform(d)});b(AST_Conditional,function(e,d){e.condition=e.condition.transform(d);e.consequent=e.consequent.transform(d);e.alternative=e.alternative.transform(d)});b(AST_Array,function(e,d){e.elements=a(e.elements,d)});b(AST_Object,function(e,d){e.properties=a(e.properties,d)});b(AST_ObjectProperty,function(e,d){e.value=e.value.transform(d)})})();