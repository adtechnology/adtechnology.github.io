"use strict";function find_builtins(a){["null","true","false","Infinity","-Infinity","undefined"].forEach(b);[Object,Array,Function,Number,String,Boolean,Error,Math,Date,RegExp].forEach(function(c){Object.getOwnPropertyNames(c).map(b);if(c.prototype){Object.getOwnPropertyNames(c.prototype).map(b)}});function b(c){push_uniq(a,c)}}function reserve_quoted_keys(b,a){function c(d){push_uniq(a,d)}b.walk(new TreeWalker(function(d){if(d instanceof AST_ObjectKeyVal&&d.quote){c(d.key)}else{if(d instanceof AST_Sub){addStrings(d.property,c)}}}))}function addStrings(a,b){a.walk(new TreeWalker(function(c){if(c instanceof AST_Sequence){addStrings(c.tail_node(),b)}else{if(c instanceof AST_String){b(c.value)}else{if(c instanceof AST_Conditional){addStrings(c.consequent,b);addStrings(c.alternative,b)}}}return true}))}function mangle_properties(b,o){o=defaults(o,{builtins:false,cache:null,debug:false,keep_quoted:false,only_cache:false,regex:null,reserved:null},true);var d=o.reserved;if(!Array.isArray(d)){d=[]}if(!o.builtins){find_builtins(d)}var g=-1;var a;if(o.cache){a=o.cache.props;a.each(function(p){push_uniq(d,p)})}else{a=new Dictionary()}var k=o.regex;var c=o.debug!==false;var j;if(c){j=(o.debug===true?"":o.debug)}var f=[];var n=[];b.walk(new TreeWalker(function(p){if(p instanceof AST_ObjectKeyVal){m(p.key)}else{if(p instanceof AST_ObjectProperty){m(p.key.name)}else{if(p instanceof AST_Dot){m(p.property)}else{if(p instanceof AST_Sub){addStrings(p.property,m)}else{if(p instanceof AST_Call&&p.expression.print_to_string()=="Object.defineProperty"){addStrings(p.args[1],m)}}}}}}));return b.transform(new TreeTransformer(function(p){if(p instanceof AST_ObjectKeyVal){p.key=i(p.key)}else{if(p instanceof AST_ObjectProperty){p.key.name=i(p.key.name)}else{if(p instanceof AST_Dot){p.property=i(p.property)}else{if(!o.keep_quoted&&p instanceof AST_Sub){p.property=h(p.property)}else{if(p instanceof AST_Call&&p.expression.print_to_string()=="Object.defineProperty"){p.args[1]=h(p.args[1])}}}}}}));function e(p){if(n.indexOf(p)>=0){return false}if(d.indexOf(p)>=0){return false}if(o.only_cache){return a.has(p)}if(/^-?[0-9]+(\.[0-9]+)?(e[+-][0-9]+)?$/.test(p)){return false}return true}function l(p){if(k&&!k.test(p)){return false}if(d.indexOf(p)>=0){return false}return a.has(p)||f.indexOf(p)>=0}function m(p){if(e(p)){push_uniq(f,p)}if(!l(p)){push_uniq(n,p)}}function i(q){if(!l(q)){return q}var p=a.get(q);if(!p){if(c){var r="_$"+q+"$"+j+"_";if(e(r)){p=r}}if(!p){do{p=base54(++g)}while(!e(p))}a.set(q,p)}return p}function h(p){return p.transform(new TreeTransformer(function(r){if(r instanceof AST_Sequence){var q=r.expressions.length-1;r.expressions[q]=h(r.expressions[q])}else{if(r instanceof AST_String){r.value=i(r.value)}else{if(r instanceof AST_Conditional){r.consequent=h(r.consequent);r.alternative=h(r.alternative)}}}return r}))}};