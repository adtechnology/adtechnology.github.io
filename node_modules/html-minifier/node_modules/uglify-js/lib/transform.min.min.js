"use strict";function TreeTransformer(d,c){TreeWalker.call(this);this.before=d;this.after=c}TreeTransformer.prototype=new TreeWalker;(function(f){function d(a,b){a.DEFMETHOD("transform",function(k,j){var l,c;k.push(this);if(k.before){l=k.before(this,b,j)}if(l===f){l=this;b(l,k);if(k.after){c=k.after(l,j);if(c!==f){l=c}}}k.pop();return l})}function e(a,b){return MAP(a,function(c){return c.transform(b,true)})}d(AST_Node,noop);d(AST_LabeledStatement,function(a,b){a.label=a.label.transform(b);a.body=a.body.transform(b)});d(AST_SimpleStatement,function(a,b){a.body=a.body.transform(b)});d(AST_Block,function(a,b){a.body=e(a.body,b)});d(AST_Do,function(a,b){a.body=a.body.transform(b);a.condition=a.condition.transform(b)});d(AST_While,function(a,b){a.condition=a.condition.transform(b);a.body=a.body.transform(b)});d(AST_For,function(a,b){if(a.init){a.init=a.init.transform(b)}if(a.condition){a.condition=a.condition.transform(b)}if(a.step){a.step=a.step.transform(b)}a.body=a.body.transform(b)});d(AST_ForIn,function(a,b){a.init=a.init.transform(b);a.object=a.object.transform(b);a.body=a.body.transform(b)});d(AST_With,function(a,b){a.expression=a.expression.transform(b);a.body=a.body.transform(b)});d(AST_Exit,function(a,b){if(a.value){a.value=a.value.transform(b)}});d(AST_LoopControl,function(a,b){if(a.label){a.label=a.label.transform(b)}});d(AST_If,function(a,b){a.condition=a.condition.transform(b);a.body=a.body.transform(b);if(a.alternative){a.alternative=a.alternative.transform(b)}});d(AST_Switch,function(a,b){a.expression=a.expression.transform(b);a.body=e(a.body,b)});d(AST_Case,function(a,b){a.expression=a.expression.transform(b);a.body=e(a.body,b)});d(AST_Try,function(a,b){a.body=e(a.body,b);if(a.bcatch){a.bcatch=a.bcatch.transform(b)}if(a.bfinally){a.bfinally=a.bfinally.transform(b)}});d(AST_Catch,function(a,b){a.argname=a.argname.transform(b);a.body=e(a.body,b)});d(AST_Definitions,function(a,b){a.definitions=e(a.definitions,b)});d(AST_VarDef,function(a,b){a.name=a.name.transform(b);if(a.value){a.value=a.value.transform(b)}});d(AST_Lambda,function(a,b){if(a.name){a.name=a.name.transform(b)}a.argnames=e(a.argnames,b);a.body=e(a.body,b)});d(AST_Call,function(a,b){a.expression=a.expression.transform(b);a.args=e(a.args,b)});d(AST_Sequence,function(a,b){a.expressions=e(a.expressions,b)});d(AST_Dot,function(a,b){a.expression=a.expression.transform(b)});d(AST_Sub,function(a,b){a.expression=a.expression.transform(b);a.property=a.property.transform(b)});d(AST_Unary,function(a,b){a.expression=a.expression.transform(b)});d(AST_Binary,function(a,b){a.left=a.left.transform(b);a.right=a.right.transform(b)});d(AST_Conditional,function(a,b){a.condition=a.condition.transform(b);a.consequent=a.consequent.transform(b);a.alternative=a.alternative.transform(b)});d(AST_Array,function(a,b){a.elements=e(a.elements,b)});d(AST_Object,function(a,b){a.properties=e(a.properties,b)});d(AST_ObjectProperty,function(a,b){a.value=a.value.transform(b)})})();