"use strict";function SourceMap(a){a=defaults(a,{file:null,root:null,orig:null,orig_line_diff:0,dest_line_diff:0});var e=new MOZ_SourceMap.SourceMapGenerator({file:a.file,sourceRoot:a.root});var f=a.orig&&Object.create(null);if(f){for(var b in a.orig){var d=new MOZ_SourceMap.SourceMapConsumer(a.orig[b]);if(Array.isArray(a.orig[b].sources)){d._sources.toArray().forEach(function(h){var g=d.sourceContentFor(h,true);if(g){e.setSourceContent(h,g)}})}f[b]=d}}function c(j,h,m,n,i,g){var l=f&&f[j];if(l){var k=l.originalPositionFor({line:n,column:i});if(k.source===null){return}j=k.source;n=k.line;i=k.column;g=k.name||g}e.addMapping({generated:{line:h+a.dest_line_diff,column:m},original:{line:n+a.orig_line_diff,column:i},source:j,name:g})}return{add:c,get:function(){return e},toString:function(){return JSON.stringify(e.toJSON())}}};