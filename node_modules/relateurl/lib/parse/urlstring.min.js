"use strict";var _parseUrl=require("url").parse;function clean(b){var a=b.protocol;if(a){if(a.indexOf(":")===a.length-1){a=a.substr(0,a.length-1)}}b.host={full:b.hostname,stripped:null};b.path={absolute:{array:null,string:b.pathname},relative:{array:null,string:null}};b.query={object:b.query,string:{full:null,stripped:null}};b.extra={hrefInfo:{minimumPathOnly:null,minimumResourceOnly:null,minimumQueryOnly:null,minimumHashOnly:null,empty:null,separatorOnlyQuery:b.search==="?"},portIsDefault:null,relation:{maximumScheme:null,maximumAuth:null,maximumHost:null,maximumPort:null,maximumPath:null,maximumResource:null,maximumQuery:null,maximumHash:null,minimumScheme:null,minimumAuth:null,minimumHost:null,minimumPort:null,minimumPath:null,minimumResource:null,minimumQuery:null,minimumHash:null,overridesQuery:null},resourceIsIndex:null,slashes:b.slashes};b.resource=null;b.scheme=a;delete b.hostname;delete b.pathname;delete b.protocol;delete b.search;delete b.slashes;return b}function validScheme(b,a){var c=true;a.rejectedSchemes.every(function(d){c=!(b.indexOf(d+":")===0);return c});return c}function parseUrlString(b,a){if(validScheme(b,a)){return clean(_parseUrl(b,true,a.slashesDenoteHost))}else{return{href:b,valid:false}}}module.exports=parseUrlString;