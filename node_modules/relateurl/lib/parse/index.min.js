"use strict";var hrefInfo=require("./hrefInfo");var parseHost=require("./host");var parsePath=require("./path");var parsePort=require("./port");var parseQuery=require("./query");var parseUrlString=require("./urlstring");var pathUtils=require("../util/path");function parseFromUrl(b,a,e){if(b){var d=parseUrl(b,a);var c=pathUtils.resolveDotSegments(d.path.absolute.array);d.path.absolute.array=c;d.path.absolute.string="/"+pathUtils.join(c);return d}else{return e}}function parseUrl(b,a){var c=parseUrlString(b,a);if(c.valid===false){return c}parseHost(c,a);parsePort(c,a);parsePath(c,a);parseQuery(c,a);hrefInfo(c);return c}module.exports={from:parseFromUrl,to:parseUrl};