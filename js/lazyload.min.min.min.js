(function(a,b){if(typeof exports==="object"){module.exports=b(a)}else{if(typeof define==="function"&&define.amd){define([],b(a))}else{a.LazyLoad=b(a)}}})(typeof global!=="undefined"?global:this.window||this.global,function(d){const a={src:"data-src",srcset:"data-srcset",selector:".lazyload"};const c=function(){let extended={};let deep=false;let i=0;let length=arguments.length;if(Object.prototype.toString.call(arguments[0])==="[object Boolean]"){deep=arguments[0];i++}let merge=function(f){for(let prop in f){if(Object.prototype.hasOwnProperty.call(f,prop)){if(deep&&Object.prototype.toString.call(f[prop])==="[object Object]"){extended[prop]=c(true,extended[prop],f[prop])}else{extended[prop]=f[prop]}}}};for(;i<length;i++){let obj=arguments[i];merge(obj)}return extended};function b(f,g){this.settings=c(a,g||{});this.images=f||document.querySelectorAll(this.settings.selector);this.observer=null;this.init()}b.prototype={init:function(){if(!d.IntersectionObserver){this.loadImages();return}let self=this;let observerConfig={root:null,rootMargin:"0px",threshold:[0]};this.observer=new IntersectionObserver(function(f){f.forEach(function(g){if(g.intersectionRatio>0){self.observer.unobserve(g.target);let src=g.target.getAttribute(self.settings.src);let srcset=g.target.getAttribute(self.settings.srcset);if("img"===g.target.tagName.toLowerCase()){if(src){g.target.src=src}if(srcset){g.target.srcset=srcset}}else{g.target.style.backgroundImage="url("+src+")"}}})},observerConfig);this.images.forEach(function(f){self.observer.observe(f)})},loadAndDestroy:function(){if(!this.settings){return}this.loadImages();this.destroy()},loadImages:function(){if(!this.settings){return}let self=this;this.images.forEach(function(f){let src=f.getAttribute(self.settings.src);let srcset=f.getAttribute(self.settings.srcset);if("img"===f.tagName.toLowerCase()){if(src){f.src=src}if(srcset){f.srcset=srcset}}else{f.style.backgroundImage="url("+src+")"}})},destroy:function(){if(!this.settings){return}this.observer.disconnect();this.settings=null}};d.lazyload=function(f,g){return new b(f,g)};if(d.jQuery){const e=d.jQuery;e.fn.lazyload=function(f){f=f||{};f.attribute=f.attribute||"data-src";new b(e.makeArray(this),f);return this}}return b});